<div>
  <mp-navbar mp-title="Recipes â€º {{::ctrl.filterValue}}"
             mp-search="ctrl.searchRecipes"
             mp-search-query="ctrl.searchText"
             mp-is-loading="ctrl.isLoading">
  </mp-navbar>

  <md-button class="md-fab md-button md-accent md-default-theme mp-fab-bottom-right"
             aria-label="Create new"
             ui-sref="createRecipe">
    <md-icon>create</md-icon>
    <md-tooltip>Create new</md-tooltip>
  </md-button>

  <md-content class="mp-content md-whiteframe-z1">
    <div class="mp-centered" ng-if="ctrl.isError">
      Could not load recipes list. Please, check network connection.
    </div>

    <div class="md-padding" ng-if="!ctrl.isLoading && ctrl.items.length == 0">
      <h3>No recipes found in this category.</h3>
      Be the first one to contribute, <a ui-sref="createRecipe">create recipe!</a>
    </div>
    <md-list ng-hide="ctrl.isLoading">
      <md-list-item class="md-3-line"
                    ng-repeat="recipe in ctrl.items track by recipe.id"
                    ng-click="ctrl.openRecipe(recipe.id)">
        <img src="images/ingredient-icon.png" class="md-avatar">

        <div class="md-list-item-text" layout="row" layout-align="space-between">
          <div>
            <h3>{{::recipe.name}}</h3>

            <p>
              Time to cook: {{::recipe.time_to_cook}} min<br/>
              Calories: <strong>{{::recipe.nutrients.find('energy').formattedValue}}</strong>
              ({{::recipe.servings || 1}} serving{{::recipe.servings > 1 ? 's' : ''}})
            </p>
          </div>
        </div>
        <md-divider ng-if="!$last"></md-divider>
      </md-list-item>
    </md-list>
  </md-content>
</div>
